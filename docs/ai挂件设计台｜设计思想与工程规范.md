# AI 挂件设计台｜设计思想与工程规范

> 本文档用于统一 **AI 设计台** 的核心设计思想、工程介入边界与实现原则，确保系统在 **自然语言友好、生成稳定、商业可控** 三个维度上取得平衡。

---

## 一、核心设计结论（必须统一的共识）

### 1. 模型前提认知
- 当前主流图像生成模型（如 **nano-banana-2 / seedream 4.5**）以 **自然语言理解** 为主要训练方式
- 在此基础上：
  - ❌ 过度工程化 Prompt（长约束、权重词、风格 DSL）
  - ❌ 强风格绑定、复杂语法模板
  - **都会显著降低生成质量与稳定性**

### 2. 系统职责边界
> **模型负责“画”，系统负责“管”**

- 模型：
  - 视觉生成
  - 风格理解
  - 自然语言到图像的映射

- 系统：
  - 控制生成空间
  - 约束发散边界
  - 维护设计状态
  - 对齐商业素材库

---

## 二、双模式设计的本质区分

### 1️⃣ 图生图（Refine / Edit）模式

#### 设计本质
> **在已确认设计空间内进行局部、可控的微调**

#### 用户真实诉求
- 我已经有一个设计
- 我只想改“这里”
- 其他地方不要动

#### 工程原则
- 强约束
- 低自由度
- 高一致性

#### 工程实现规范
- 输入必须包含：
  - 原始设计图
  - 当前设计状态（已确认 / 待修改）

```json
{
  "design_state": {
    "confirmed": ["主体结构", "整体比例"],
    "pending": ["挂环样式"]
  }
}
```

- 系统行为规范：
  - 禁止模型改动 `confirmed` 区域
  - 仅允许在 `pending` 区域内生成
  - Prompt 保持极简，仅描述变化方向

#### 向量检索在图生图中的角色
> **用于“校准修改方向”，而不是引入新风格**

- 仅检索：
  - 结构相似度高的素材
  - 已存在的风格 / 元素词
- 不直接混合多张参考图

---

### 2️⃣ 文生图（Explore / Discover）模式

#### 设计本质
> **从已有成功设计空间出发，进行受控发散探索**

#### 用户真实诉求
- 我还没有明确设计
- 想看几个方向
- 但必须“像我们卖过的东西”

#### 工程原则
- 中约束
- 可控发散
- 禁止无边界创造

#### 工程实现规范

##### ① 发散起点必须来自素材库
- 文生图不是“从零生成”
- 而是：

```text
用户需求
→ 向量检索素材库
→ 选定发散起点
→ 在该空间内变化
```

##### ② 向量检索双通道
- 文本 → Prompt 素材向量
- 文本 → 图像素材向量

检索目标：
- 已验证风格
- 成功结构
- 可量产设计语言

##### ③ 发散控制策略
- 同一自然语言描述
- × 不同素材起点
- × 不同随机种子

> ❌ 禁止通过“改写 prompt 文案”制造差异

---

## 三、向量检索的统一设计规范

### 向量检索 ≠ 找最像的图

#### 正确定位
> **向量检索用于：定义生成空间，而不是生成内容**

### 图生图中的检索目标
- 找“设计语汇锚点”
- 提取：
  - 风格词
  - 元素词
  - 结构描述

### 文生图中的检索目标
- 找“发散起跑线”
- 限定：
  - 结构类型
  - 风格大类
  - 商业层级（A/B/C）

---

## 四、Prompt 工程的正确使用方式

### Prompt 的真实职责
> **不是提升画面质量，而是限制模型探索边界**

### Prompt 设计规范

#### 1️⃣ 原子化 Prompt 片段库

Prompt 不允许自由生成，只能从库中组合：

```json
{
  "style": ["可爱", "极简", "潮流"],
  "structure": ["单主体", "双主体"],
  "metal": ["O型环", "D型扣"],
  "complexity": ["低", "中"]
}
```

#### 2️⃣ 使用策略
- 图生图：
  - 替换原子片段
- 文生图：
  - 组合原子片段

> ❌ 禁止模型自行发明新结构 / 新风格类别

---

## 五、设计状态管理规范（核心能力）

### 设计状态是系统的第一公民

```json
{
  "confirmed": ["主体形态"],
  "locked_regions": ["mask_1"],
  "pending": ["挂环样式", "配色"]
}
```

### 必须支持的能力
- 锁定满意区域
- 局部修改
- 版本回退
- 设计分支（对比不同方向）

---

## 六、整体系统目标总结

### 我们不追求：
- 艺术级自由创作
- 模型能力极限展示

### 我们追求：
- 商业风格连续性
- 生成结果可控
- 厂家可复用、可扩展

> **这是一个“工业设计生成系统”，而不是一个“AI 画画玩具”。**

---

## 七、设计思想一句话总结

> **用工程手段约束生成空间，用自然语言释放创意效率。**

